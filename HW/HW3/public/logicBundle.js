!function(t){var i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(n,o,function(i){return t[i]}.bind(null,o));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=30)}({30:function(t,i,e){(function(i){function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),t}var s=e(31),h=s.dispatchChangeGameState,a=s.dispatchStartGame,u=s.dispatchEndGame,c=e(6),d=c.width,f=c.height,y=c.frameRate,l=c.directions,p=l.UP,b=l.DOWN,v=l.LEFT,w=l.RIGHT,m=function(){function t(i,e){if(n(this,t),!i||!e)throw new Error("You're missing either height or width");var o={x:Math.floor(i/2),y:Math.floor(e/2)};this.body.push(o);for(var r=0;r<4;r++){var s={x:o.x,y:o.y+r};this.body.push(s)}this.direction=p,this.move=this.move.bind(this),this.changeDirection=this.changeDirection.bind(this)}return r(t,[{key:"move",value:function(t){if(t){var i=this.body[0];this.direction===p?this.body.unshift({x:i.x,y:i.y++}):this.direction===b?this.body.unshift({x:i.x,y:i.y--}):this.direction===w?this.body.unshift({x:i.x++,y:i.y}):this.body.unshift({x:i.x--,y:i.y++})}else{var e=this.body[0];this.direction===p?(this.body.unshift({x:e.x,y:e.y++}),this.body.pop()):this.direction===b?(this.body.unshift({x:e.x,y:e.y--}),this.body.pop()):this.direction===w?(this.body.unshift({x:e.x++,y:e.y}),this.body.pop()):(this.body.unshift({x:e.x--,y:e.y++}),this.body.pop())}}},{key:"changeDirection",value:function(t){if(!(t in[p,b,v,w]))throw new Error("invalid direction");if(t===p){if(this.direction===b)return;this.direction=t}else if(t===b){if(this.direction===p)return;this.direction=t}else if(t===w){if(this.direction===v)return;this.direction=t}else if(t===v){if(this.direction===w)return;this.direction=t}}}]),t}(),G=function(){function t(i,e,o){if(n(this,t),!i||!e)throw new Error("You're missing either height or width");this.width=i,this.height=e,this.playing=!1,this.snake=new m(i,e),this.keyPressed=!1,this.frameRate=o,this.updateGameState=this.updateGameState.bind(this),this.checkCollision=this.checkCollision.bind(this),this.spawnFood=this.spawnFood.bind(this),this.reset=this.reset.bind(this),this.startGame=this.startGame.bind(this),this.endGame=this.endGame.bind(this),this.spawnFood(),h(this.snake,this.food)}return r(t,[{key:"spawnFood",value:function(){this.food={x:Math.random()*this.width,y:Math.random()*this.height}}},{key:"checkCollision",value:function(){}},{key:"shouldGrow",value:function(){return this.snake.body[0]===this.food}},{key:"updateGameState",value:function(){h(this.snake,this.food)}},{key:"startGame",value:function(){a(),this.playing=!0,this.gameInterval.setInterval(this.updateGameState,this.frameRate)}},{key:"endGame",value:function(){u(),this.playing=!1,this.gameInterval.clearInterval()}},{key:"reset",value:function(){this.playing&&(this.playing=!1,this.snake=new m(this.width,this.height),this.keyPressed=!1,clearInterval(this.gameInterval),this.spawnFood(),h(this.snake,this.food))}}]),t}(),g=new G(d,f,y);function x(t){return function(i){"r"!==i.key?t.playing||" "===i.key&&t.startGame():t.reset()}}var E=function(){g.reset()};try{window.onKeyDown=x(g),window.reset=E}catch(t){i.onKeyDown=x(g),i.reset=E}t.exports={Game:G,Snake:m,onKeyDownGenerator:x}}).call(this,e(5))},31:function(t,i,e){(function(i){var n;try{n=window.store}catch(t){n=i.store}var o=e(6),r=o.width,s=o.height,h=e(7),a=h.END_GAME,u=h.CHANGE_GAME_STATE,c=h.START_GAME,d=1,f=2;t.exports={dispatchChangeGameState:function(t,i){var e=function(){for(var t=[],i=0;i<s;i+=1){for(var e=[],n=0;n<r;n+=1)e.push(0);t.push(e)}return t}();t.body.forEach((function(t){var i=t.x,n=t.y;e[n][i]=d})),i&&(e[i.y][i.x]=f),n.dispatch({type:u,newGameState:e})},dispatchStartGame:function(){return n.dispatch({type:c})},dispatchEndGame:function(){return n.dispatch({type:a})}}}).call(this,e(5))},5:function(t,i){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},6:function(t,i){t.exports={width:40,height:30,frameRate:80,directions:{UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"}}},7:function(t,i){t.exports={CHANGE_GAME_STATE:"CHANGE_GAME_STATE",END_GAME:"END_GAME",START_GAME:"START_GAME"}}});