!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=30)}({30:function(t,e,i){(function(e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var s=i(31),a=s.dispatchChangeGameState,h=s.dispatchStartGame,c=s.dispatchEndGame,d=i(6),u=d.width,f=d.height,y=d.frameRate,l=d.directions,p=l.UP,v=l.DOWN,w=l.LEFT,k=l.RIGHT,b=function(){function t(e,i){if(n(this,t),!e||!i)throw new Error("You're missing either height or width");var r={x:Math.floor(e/2),y:Math.floor(i/2)};this.body=[],this.body.push(r);for(var o=1;o<5;o++){var s={x:r.x,y:r.y+o};this.body.push(s)}this.direction=p,this.move=this.move.bind(this),this.changeDirection=this.changeDirection.bind(this)}return o(t,[{key:"move",value:function(t){t||this.body.pop();var e=this.body[0],i=this.body;if(this.direction===p){var n=[{x:e.x,y:e.y-1}];this.body=n.concat(i)}else if(this.direction===v){var r=[{x:e.x,y:e.y+1}];this.body=r.concat(i)}else if(this.direction===k){var o=[{x:e.x+1,y:e.y}];this.body=o.concat(i)}else if(this.direction===w){var s=[{x:e.x-1,y:e.y}];this.body=s.concat(i)}}},{key:"changeDirection",value:function(t){if(![p,v,w,k].includes(t))throw new Error("invalid direction");t===p?this.direction!==v&&(this.direction=t):t===v?this.direction!==p&&(this.direction=t):t===k?this.direction!==w&&(this.direction=t):t===w&&this.direction!==k&&(this.direction=t)}}]),t}(),m=function(){function t(e,i,r){if(n(this,t),!e||!i)throw new Error("You're missing either height or width");this.width=e,this.height=i,this.playing=!1,this.snake=new b(e,i),this.keyPressed=!1,this.frameRate=r,this.updateGameState=this.updateGameState.bind(this),this.checkCollision=this.checkCollision.bind(this),this.spawnFood=this.spawnFood.bind(this),this.reset=this.reset.bind(this),this.startGame=this.startGame.bind(this),this.endGame=this.endGame.bind(this),this.spawnFood(),a(this.snake,this.food)}return o(t,[{key:"spawnFood",value:function(){this.food={x:Math.round(Math.random()*this.width),y:Math.round(Math.random()*this.height)}}},{key:"checkCollision",value:function(){var t=this.snake.body[0];if(t.x<0||t.x>this.width-1)return!0;if(t.y<0||t.y>this.height-1)return!0;for(var e=1;e<this.snake.body.length;e++){var i=this.snake.body[e];if(t.x===i.x&&t.y===i.y)return!0}return!1}},{key:"shouldGrow",value:function(){var t=this.snake.body[0];return t.x===this.food.x&&t.y===this.food.y&&(this.spawnFood(),!0)}},{key:"updateGameState",value:function(){var t=this.shouldGrow();this.snake.move(t),this.keyPressed=!1,this.checkCollision()&&this.endGame(),a(this.snake,this.food)}},{key:"startGame",value:function(){h(),this.playing=!0,this.gameInterval=setInterval(this.updateGameState,y)}},{key:"endGame",value:function(){c(),clearInterval(this.gameInterval)}},{key:"reset",value:function(){this.playing&&(this.playing=!1,this.snake=new b(this.width,this.height),this.keyPressed=!1,clearInterval(this.gameInterval),this.spawnFood(),a(this.snake,this.food))}}]),t}(),g=new m(u,f,y);function G(t){return function(e){if("r"!==e.key){if(t.playing)return t.keyPressed?void 0:"ArrowUp"===e.key?(t.keyPressed=!0,void t.snake.changeDirection(p)):"ArrowDown"===e.key?(t.keyPressed=!0,void t.snake.changeDirection(v)):"ArrowLeft"===e.key?(t.keyPressed=!0,void t.snake.changeDirection(w)):"ArrowRight"===e.key?(t.keyPressed=!0,void t.snake.changeDirection(k)):void 0;" "===e.key&&t.startGame()}else t.reset()}}var x=function(){g.reset()};try{window.onKeyDown=G(g),window.reset=x}catch(t){e.onKeyDown=G(g),e.reset=x}t.exports={Game:m,Snake:b,onKeyDownGenerator:G}}).call(this,i(5))},31:function(t,e,i){(function(e){var n;try{n=window.store}catch(t){n=e.store}var r=i(6),o=r.width,s=r.height,a=i(7),h=a.END_GAME,c=a.CHANGE_GAME_STATE,d=a.START_GAME,u=1,f=2;t.exports={dispatchChangeGameState:function(t,e){var i=function(){for(var t=[],e=0;e<s;e+=1){for(var i=[],n=0;n<o;n+=1)i.push(0);t.push(i)}return t}();t.body.forEach((function(t){var e=t.x,n=t.y;i[n][e]=u})),e&&(i[e.y][e.x]=f),n.dispatch({type:c,newGameState:i})},dispatchStartGame:function(){return n.dispatch({type:d})},dispatchEndGame:function(){return n.dispatch({type:h})}}}).call(this,i(5))},5:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},6:function(t,e){t.exports={width:40,height:30,frameRate:80,directions:{UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"}}},7:function(t,e){t.exports={CHANGE_GAME_STATE:"CHANGE_GAME_STATE",END_GAME:"END_GAME",START_GAME:"START_GAME"}}});